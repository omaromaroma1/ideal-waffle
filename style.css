/* =========================
   RESET / BASE
========================= */
* { box-sizing: border-box; margin:0; padding:0; }

body {
  font-family: "Segoe UI", system-ui, Arial, sans-serif;
  padding: 20px;
  transition: background .35s ease, color .35s ease;
}

/* =========================
   LIGHT & DARK (NAVY) THEMES
========================= */
body.light-mode {
  /* soft sky gradient behind glass */
  background: linear-gradient(150deg, #f7fbff 0%, #eef5ff 60%, #e9f1ff 100%);
  color: #0b1220;
}

body.dark-mode {
  /* darker NAVY with depth & vignette */
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(18,34,74,.55), transparent 60%),
    radial-gradient(1400px 1000px at 80% 90%, rgba(8,19,46,.55), transparent 55%),
    linear-gradient(160deg, #0a1736 0%, #08122a 45%, #060e24 100%);
  color: #ffffff; /* text white in dark mode */
}

/* =========================
   LIQUID GLASS PRIMITIVES
========================= */
:root {
  --glass-bg-light: rgba(255, 255, 255, .25);
  --glass-bg-dark:  rgba(20, 32, 70, .30);
  --glass-border-light: rgba(255, 255, 255, .45);
  --glass-border-dark:  rgba(210, 225, 255, .12);
  --primary: #007bff;
  --primary-strong: #0a74ff;
  --shadow-light: 0 10px 30px rgba(0,0,0,.10);
  --shadow-dark:  0 16px 40px rgba(0,0,0,.55);
}

/* =========================
   MAIN CARD (GLASS)
========================= */
.calculator-box {
  width: 360px;
  margin: 0 auto;
  padding: 22px;
  border-radius: 22px;
  position: relative;
  background: var(--glass-bg-light);
  border: 1px solid var(--glass-border-light);
  backdrop-filter: blur(18px) saturate(140%);
  box-shadow: var(--shadow-light);
}
body.dark-mode .calculator-box {
  background: var(--glass-bg-dark);
  border: 1px solid var(--glass-border-dark);
  box-shadow: var(--shadow-dark);
}

/* =========================
   TITLE / CLOCK / BUDGET
========================= */
h1 {
  text-align: center;
  margin-bottom: 14px;
  color: var(--primary);
  font-weight: 700;
  text-shadow: 0 0 6px rgba(10, 116, 255, .25);
}
body.dark-mode h1 {
  /* keep it readable, still brand but softer */
  color: #7fb4ff;
  text-shadow: 0 0 8px rgba(64, 140, 255, .25);
}

#clock, #budget {
  text-align: center;
  margin: 6px 0;
  font-size: 1.1rem;
  font-weight: 500;
}

#budget {
  font-size: 3.0rem; /* your requested size */
  font-weight: 800;
  color: inherit;      /* use body text color */
  text-shadow: none;   /* white text in dark mode stays crisp */
}

/* =========================
   INPUT
========================= */
#input-display {
  width: 100%;
  text-align: right;
  font-size: 24px;
  padding: 10px 12px;
  border: none;
  background: transparent;
  color: inherit;
}

/* =========================
   NUMPAD
========================= */
.numpad {
  display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin: 12px 0;
}
.numpad button {
  flex: 1 1 28%;
  padding: 12px;                 /* smaller per your earlier request */
  border: none; border-radius: 14px;
  background: rgba(0, 123, 255, .88);
  color: #fff; font-size: 1.1rem; font-weight: 700;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(0, 123, 255, .20);
  transition: transform .18s ease, background .2s ease, box-shadow .25s ease;
  backdrop-filter: blur(10px) saturate(130%);
}
.numpad button:hover {
  background: rgba(10, 116, 255, 1);
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(0, 123, 255, .28);
}

/* =========================
   ACTION BUTTONS
========================= */
.buttons {
  display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin: 14px 0;
}
.buttons button {
  flex: 1 1 45%;
  padding: 12px;
  border: none; border-radius: 14px;
  font-weight: 700;
  background: rgba(0, 123, 255, .90);
  color: #fff;
  cursor: pointer;
  transition: transform .18s ease, background .2s ease, box-shadow .25s ease;
  box-shadow: 0 10px 24px rgba(0, 123, 255, .20);
  backdrop-filter: blur(10px) saturate(130%);
}
.buttons button:hover {
  background: rgba(0, 123, 255, 1);
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(0, 123, 255, .28);
}

/* =========================
   HISTORY
========================= */
.history-header {
  display: flex; align-items: center; justify-content: space-between;
  margin: 8px 0 10px;
  font-weight: 700;
}
.history-toggle {
  padding: 6px 10px; border-radius: 10px; font-size: 12px;
  background: rgba(229, 240, 255, .45);
  color: #0a3a8b; border: 1px solid rgba(255,255,255,.45);
  cursor: pointer;
  backdrop-filter: blur(10px);
  transition: background .2s ease, transform .18s ease, box-shadow .25s ease;
}
.history-toggle:hover {
  background: rgba(0,123,255,.35);
  color: #fff;
  box-shadow: 0 6px 16px rgba(0,123,255,.25);
}
body.dark-mode .history-toggle {
  background: rgba(24, 40, 84, .55);
  color: #d7e6ff;
  border-color: rgba(210, 225, 255, .16);
}

#history {
  max-height: 220px; overflow: auto;
  background: var(--glass-bg-light);
  border: 1px solid var(--glass-border-light);
  border-radius: 14px; padding: 10px;
  backdrop-filter: blur(14px) saturate(140%);
  box-shadow: var(--shadow-light);
}
body.dark-mode #history {
  background: var(--glass-bg-dark);
  border: 1px solid var(--glass-border-dark);
  box-shadow: var(--shadow-dark);
}

/* fancy scrollbar */
#history::-webkit-scrollbar { width: 6px; }
#history::-webkit-scrollbar-thumb { background-color: #5aa3ff; border-radius: 8px; }
#history::-webkit-scrollbar-track { background: transparent; }

/* =========================
   MODE TOGGLE + SETTINGS ICON
========================= */
#mode-toggle {
  position: fixed; right: 16px; bottom: 16px;
  font-size: 30px; cursor: pointer;
  transition: transform .3s ease, filter .3s ease;
  filter: drop-shadow(0 4px 10px rgba(0,0,0,.25));
}
#mode-toggle:hover { transform: rotate(20deg) scale(1.06); }

#settings-icon {
  position: absolute; top: 12px; right: 14px; font-size: 24px; cursor: pointer;
  transition: transform .3s ease, filter .3s ease;
}
#settings-icon:hover {
  transform: rotate(45deg);
  filter: drop-shadow(0 0 8px rgba(0, 123, 255, .55));
}

/* =========================
   OVERLAY (shared)
========================= */
#overlay {
  position: fixed; inset: 0;
  background: rgba(0, 0, 0, .45);
  display: none; z-index: 9998;
  backdrop-filter: blur(10px);
}

/* =========================
   MODALS — DEFAULT (GLASS)
   (Subtract & Category Totals use this)
========================= */
.modal {
  position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%);
  width: min(420px, 92vw); max-height: 80vh; overflow: auto;
  background: var(--glass-bg-light);
  color: #111; border-radius: 16px; padding: 18px;
  border: 1px solid var(--glass-border-light);
  backdrop-filter: blur(20px) saturate(160%);
  box-shadow: 0 20px 60px rgba(0,0,0,.30);
  display: none; z-index: 9999;
}
body.dark-mode .modal {
  background: var(--glass-bg-dark);
  color: #fff;
  border: 1px solid var(--glass-border-dark);
  box-shadow: var(--shadow-dark);
}
.modal h3 { text-align: center; margin-bottom: 10px; }

/* modal buttons */
.modal .btn {
  display: block; width: 100%; margin: 8px 0; padding: 10px;
  border: none; border-radius: 12px;
  background: rgba(0, 123, 255, .92); color: #fff; font-weight: 700;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(0,123,255,.22);
  transition: transform .18s ease, background .2s ease, box-shadow .25s ease;
  backdrop-filter: blur(8px) saturate(140%);
}
.modal .btn:hover {
  background: rgba(0,123,255,1);
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(0,123,255,.30);
}

/* close button (perfect circle) */
.close-btn {
  width: 32px; height: 32px; aspect-ratio: 1/1; border-radius: 50%;
  border: none; background: #007bff; color: #fff; font-size: .9rem; font-weight: 800;
  line-height: 1; display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: transform .18s ease, background .2s ease, box-shadow .25s ease;
}
.close-btn:hover {
  background: #339dff;
  transform: scale(1.08);
  box-shadow: 0 0 8px rgba(51,157,255,.65);
}

/* =========================
   SETTINGS MODAL — REVERTED (SOLID CARD)
   (No glass here, as requested)
========================= */
#settingsModal {
  background: #ffffff !important;
  color: #0b1220 !important;
  border: 1px solid #e6eaf3 !important;
  box-shadow: 0 18px 50px rgba(0,0,0,.18) !important;
  backdrop-filter: none !important;
}
body.dark-mode #settingsModal {
  background: #1f2937 !important;
  color: #ffffff !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  box-shadow: 0 18px 50px rgba(0,0,0,.55) !important;
}
#settingsModal h3, #settingsModal h4 {
  color: inherit !important; text-shadow: none !important;
}
#settingsModal .btn {
  background: #007bff !important; color: #fff !important;
  box-shadow: 0 10px 24px rgba(0,123,255,.20) !important;
}
#settingsModal .btn:hover {
  background: #0068d4 !important;
}

/* toggle rows */
#settingsModal label {
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 8px; margin:6px 0;
  border:1px solid #e6eaf3; border-radius:12px; background:#fafcff;
}
body.dark-mode #settingsModal label {
  border-color: rgba(255,255,255,.12);
  background: #111827;
}
#newCategoryInput {
  width: 100%; padding: 10px 12px; margin-top: 6px;
  border: 1px solid #e6eaf3; border-radius: 10px; background: #fff; color: #0b1220;
}
body.dark-mode #newCategoryInput {
  border-color: rgba(255,255,255,.12);
  background: #111827; color: #fff;
}

/* =========================
   FULLSCREEN HISTORY PANEL (uses glass wrapper)
========================= */
.sleek-modal {
  position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%);
  z-index: 10000;
  width: 94vw; max-width: 800px; max-height: 90vh; overflow: auto;
  border-radius: 16px; padding: 16px;
  background: var(--glass-bg-light);
  border: 1px solid var(--glass-border-light);
  color: #0b1220;
  box-shadow: var(--shadow-light);
  backdrop-filter: blur(18px) saturate(150%);
}
body.dark-mode .sleek-modal {
  background: var(--glass-bg-dark);
  border: 1px solid var(--glass-border-dark);
  color: #fff;
  box-shadow: var(--shadow-dark);
}

/* =========================
   RTL SUPPORT
========================= */
body[dir="rtl"] { direction: rtl; text-align: right; }
body[dir="rtl"] .calculator-box h1 { text-align: center; }
