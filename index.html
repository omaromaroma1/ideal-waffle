<!DOCTYPE html>
<html lang="en">
<head>
<meta name="theme-color" content="#000000" />
<link rel="apple-touch-icon" href="/icon-192.png" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<link rel="manifest" href="/manifest.json" />
<meta name="theme-color" content="#0a6bff" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Money Budgeter</title>
<link rel="stylesheet" href="style.css" />
<style>
  /* === AUTH POPUP (sleek & modern) === */
  .auth-fab {
    position: fixed; top: 12px; right: 12px; z-index: 10000;
    display: flex; gap: 8px;
  }
  .auth-btn {
    padding: 8px 14px; border: 1px solid rgba(255,255,255,.12);
    border-radius: 10px; background: #0a6bff; color: #fff; font-weight: 700; cursor: pointer;
    box-shadow: 0 6px 16px rgba(10,107,255,.35);
  }
  .auth-btn.secondary { background: #142646; }
  .auth-btn.hidden { display: none; }

  /* Backdrop */
  .auth-backdrop {
    position: fixed; inset: 0; background: rgba(3,10,22,.55);
    backdrop-filter: blur(10px) saturate(130%); z-index: 9998; display: none;
  }
  /* Sheet */
  .auth-sheet {
    position: fixed; right: 12px; top: 56px; z-index: 9999; display: none;
    width: min(380px, 92vw); border-radius: 16px; overflow: hidden;
    border: 1px solid rgba(210,225,255,.16);
    background: linear-gradient(180deg, rgba(16,28,58,.9), rgba(10,18,36,.9));
    box-shadow: 0 20px 60px rgba(0,0,0,.45);
  }
  .auth-head {
    display:flex; align-items:center; justify-content:space-between; padding:14px 16px;
    border-bottom:1px solid rgba(255,255,255,.08); color: #eaf0ff; font-weight: 800;
  }
  .auth-close { background: transparent; border:0; color:#cfd6e6; font-size:18px; cursor:pointer; }
  .auth-tabs { display:flex; gap:8px; padding:10px 12px; }
  .auth-tab {
    flex:1; text-align:center; padding:10px 12px; cursor:pointer; border-radius:10px;
    color:#cfd6e6; border:1px solid rgba(255,255,255,.12); background:#0c1a33;
  }
  .auth-tab.active { background:#0a6bff; color:#fff; border-color:#0a6bff; }
  .auth-body { padding:12px 14px; display:grid; gap:10px; }
  .auth-input {
    width:100%; padding:12px; border-radius:10px; border:1px solid rgba(255,255,255,.14);
    background:#0c1a33; color:#fff; font-size:16px;
  }
  .auth-action {
    width:100%; padding:12px; border-radius:10px; border:0; cursor:pointer; font-weight:800;
    background:#0a6bff; color:#fff; box-shadow: 0 10px 20px rgba(10,107,255,.3);
  }
  .auth-note { font-size:12px; color:#a8b3cf; text-align:center; }
  .auth-error { color:#ff9aa2; font-size:13px; min-height:18px; text-align:center; }
  .user-chip {
    padding:8px 12px; border-radius:999px; background:#10254a; color:#eaf0ff; border:1px solid rgba(255,255,255,.12);
    max-width: 42vw; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
  }
</style>
</head>
<body>
  <!-- Auth buttons (top-right) -->
  <div class="auth-fab">
    <span id="userChip" class="user-chip hidden"></span>
    <button id="openAuth" class="auth-btn">Sign In</button>
    <button id="signOutBtn" class="auth-btn secondary hidden">Sign Out</button>
  </div>

  <!-- Stylish popup -->
  <div id="authBackdrop" class="auth-backdrop"></div>
  <div id="authSheet" class="auth-sheet" role="dialog" aria-modal="true" aria-labelledby="authTitle">
    <div class="auth-head">
      <div id="authTitle">Account</div>
      <button class="auth-close" id="authClose">‚úï</button>
    </div>
    <div class="auth-tabs">
      <button id="tabSignIn" class="auth-tab active">Sign In</button>
      <button id="tabSignUp" class="auth-tab">Sign Up</button>
    </div>
    <div class="auth-body">
      <input id="emailInput" class="auth-input" type="email" placeholder="Email" autocomplete="email" />
      <input id="passInput" class="auth-input" type="password" placeholder="Password" autocomplete="current-password" />
      <div id="authErr" class="auth-error"></div>
      <button id="authAction" class="auth-action">Continue</button>
      <div class="auth-note">Email/Password login powered by Firebase</div>
    </div>
  </div>

  <!-- === YOUR APP (unchanged) === -->
  <div class="calculator-box">
    <div id="settings-icon" onclick="openSettings()">‚öôÔ∏è</div>
    <h1 id="title">Money Budgeter</h1>
    <div id="clock">üïí --:--</div>
    <div id="budget">Budget: $0</div>

    <input id="input-display" placeholder="Enter amount" readonly />

    <div class="numpad">
      <button onclick="appendNumber('1')">1</button>
      <button onclick="appendNumber('2')">2</button>
      <button onclick="appendNumber('3')">3</button>
      <button onclick="appendNumber('4')">4</button>
      <button onclick="appendNumber('5')">5</button>
      <button onclick="appendNumber('6')">6</button>
      <button onclick="appendNumber('7')">7</button>
      <button onclick="appendNumber('8')">8</button>
      <button onclick="appendNumber('9')">9</button>
      <button onclick="appendNumber('0')">0</button>
      <button onclick="appendNumber('.')">.</button>
      <button onclick="backspace()">‚å´</button>
    </div>

    <div class="buttons">
      <button id="addBtn" onclick="submitAmount('add')">Add</button>
      <button id="subtractBtn" onclick="openSubtract()">Subtract</button>
      <button id="clearBtn" onclick="clearHistory()">Clear History</button>
      <button id="resetBtn" onclick="resetBudget()">Reset</button>
      <button id="repeatBtn" onclick="location.href='repeat.html'">Repeat ‚ûï</button>
      <button id="viewCatBtn" onclick="viewCategoryTotals()">üìä View Categories</button>
    </div>

    <div class="history-header">
      <div id="historyLabel">History</div>
      <button id="toggleHistoryBtn" class="history-toggle">Expand ‚áµ</button>
    </div>
    <div id="history"></div>
  </div>

  <!-- Theme toggle -->
  <div id="mode-toggle" onclick="toggleMode()">üåô</div>

  <!-- Overlay + Settings modal -->
  <div id="overlay"></div>
  <div id="settingsModal" class="modal" aria-modal="true" role="dialog">
    <h3 id="settingsTitle">Settings</h3>
    <hr />
    <h4 id="languageLabel">Language:</h4>
    <button class="btn" onclick="toggleLanguage()">
      <span id="langBtn">Switch to Arabic üá∏üá¶</span>
    </button>

    <h4 id="featuresLabel">Features:</h4>
    <label><span id="toggleRepeatLbl">Show Repeat</span><input type="checkbox" id="toggleRepeat" /></label>
    <label><span id="toggleClearLbl">Show Clear History</span><input type="checkbox" id="toggleClear" /></label>
    <label><span id="toggleResetLbl">Show Reset</span><input type="checkbox" id="toggleReset" /></label>

    <h4 id="categoryLabel">Custom Categories:</h4>
    <div id="categoryList"></div>
    <input type="text" id="newCategoryInput" placeholder="Add new category" />
    <button class="btn" onclick="addCategory()">Add Category</button>
    <button class="btn" onclick="closeSettings()">Close</button>
  </div>

<script>
/* ======= State ======= */
const modeBtn = document.getElementById('mode-toggle');
const overlay = document.getElementById('overlay');
const settingsModal = document.getElementById('settingsModal');
const historyEl = document.getElementById('history');
const repeatBtn = document.getElementById('repeatBtn');
const clearBtn  = document.getElementById('clearBtn');
const resetBtn  = document.getElementById('resetBtn');

let categories = JSON.parse(localStorage.getItem('categories')) ||
  ['Leisure','Transportation','Food','Groceries','Others','Games','Friends'];
let featureSettings = JSON.parse(localStorage.getItem('featureSettings')) ||
  { repeat:true, clear:true, reset:true };
let lang = localStorage.getItem('lang') || 'en';
let budget = parseFloat(localStorage.getItem('budget')) || 0;
let history = JSON.parse(localStorage.getItem('history')) || [];

/* ======= Clock ======= */
function tickClock(){
  const n = new Date();
  document.getElementById('clock').textContent =
    'üïí ' + n.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
}
setInterval(tickClock,1000); tickClock();

/* ======= Calculator ======= */
const inputEl = document.getElementById('input-display');
function appendNumber(n){ inputEl.value += n; }
function backspace(){ inputEl.value = inputEl.value.slice(0,-1); }
function clearInput(){ inputEl.value = ''; }

function submitAmount(type){
  const v = parseFloat(inputEl.value);
  if (isNaN(v)) return;
  const ts = new Date().toLocaleString();
  if (type==='add'){
    budget += v;
    history.push({type:'Add', value:v, timestamp:ts});
  }
  saveBudget(); renderHistory(); clearInput();
}

/* ======= Overlay helpers ======= */
function openOverlay(){ overlay.style.display='block'; }
function closeOverlay(){ overlay.style.display='none'; }
overlay.addEventListener('click', ()=>{
  closeSettings(); closeTempModals();
});
function showModal(el){ el.style.display='block'; openOverlay(); }
function closeTempModals(){
  document.querySelectorAll('.sleek-modal').forEach(el=>el.remove());
  closeOverlay();
}

/* ======= Subtract ======= */
function openSubtract(){
  const m = document.createElement('div');
  m.className = 'modal sleek-modal';
  m.innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:center;width:100%;">
      <h3>${lang==='ar'?'ÿßÿÆÿ™ÿ± ÿßŸÑŸÅÿ¶ÿ©':'Select Category'}</h3>
      <button class="close-btn" onclick="closeTempModals()">‚úñ</button>
    </div>
    <div style="display:flex;flex-direction:column;align-items:center;width:100%;margin-top:8px;">
      ${categories.map(c =>
        `<button class="btn" style="width:90%;margin:6px 0;" onclick="doSubtract('${c}')">${c}</button>`
      ).join('')}
    </div>`;
  document.body.appendChild(m);
  showModal(m);
}
function doSubtract(cat){
  const v = parseFloat(inputEl.value);
  if (isNaN(v)) { closeTempModals(); return; }
  const ts = new Date().toLocaleString();
  budget -= v;
  history.push({type:`Subtract (${cat})`, value:v, timestamp:ts});
  saveBudget(); renderHistory(); clearInput();
  closeTempModals();
}

/* ======= History ======= */
function renderHistory(){
  historyEl.innerHTML = '';
  history.slice().reverse().forEach(it=>{
    const d=document.createElement('div');
    d.textContent = `${it.timestamp} ‚Äî ${it.type}: $${it.value.toFixed(2)}`;
    historyEl.appendChild(d);
  });
}
function clearHistory(){
  history = [];
  localStorage.setItem('history','[]');
  renderHistory();
}
function resetBudget(){
  budget = 0;
  saveBudget();
}
function saveBudget(){
  localStorage.setItem('budget', budget);
  localStorage.setItem('history', JSON.stringify(history));
  updateBudget();
}
function updateBudget(){
  document.getElementById('budget').textContent = `Budget: $${budget.toFixed(2)}`;
}

/* ======= Theme ======= */
function toggleMode(){
  const dark = document.body.classList.contains('dark-mode');
  document.body.classList.toggle('dark-mode', !dark);
  document.body.classList.toggle('light-mode', dark);
  localStorage.setItem('theme', dark ? 'light' : 'dark');
  modeBtn.textContent = dark ? 'üåô' : '‚òÄÔ∏è';
}
(function initTheme(){
  if (localStorage.getItem('theme')==='dark'){
    document.body.classList.add('dark-mode'); modeBtn.textContent='‚òÄÔ∏è';
  } else {
    document.body.classList.add('light-mode');
  }
})();

/* ======= Settings ======= */
function openSettings(){ renderSettings(); showModal(settingsModal); }
function closeSettings(){ settingsModal.style.display='none'; closeOverlay(); }

function renderSettings(){
  const tRepeat = document.getElementById('toggleRepeat');
  const tClear  = document.getElementById('toggleClear');
  const tReset  = document.getElementById('toggleReset');
  tRepeat.checked = !!featureSettings.repeat;
  tClear.checked  = !!featureSettings.clear;
  tReset.checked  = !!featureSettings.reset;

  applyFeatureVisibility();

  tRepeat.onchange = ()=>{ featureSettings.repeat=tRepeat.checked; persistFeatures(); applyFeatureVisibility(); };
  tClear.onchange  = ()=>{ featureSettings.clear=tClear.checked;   persistFeatures(); applyFeatureVisibility(); };
  tReset.onchange  = ()=>{ featureSettings.reset=tReset.checked;   persistFeatures(); applyFeatureVisibility(); };

  const list=document.getElementById('categoryList');
  list.innerHTML='';
  categories.forEach((c,i)=>{
    const row=document.createElement('div');
    row.innerHTML = `${c}
      <button style="float:right;background:#ef4444;color:#fff;border:none;border-radius:8px;padding:2px 8px;font-weight:800"
        onclick="removeCategory(${i})">X</button>`;
    list.appendChild(row);
  });
}

function applyFeatureVisibility(){
  repeatBtn.style.display = featureSettings.repeat ? '' : 'none';
  clearBtn.style.display  = featureSettings.clear  ? '' : 'none';
  resetBtn.style.display  = featureSettings.reset  ? '' : 'none';
}
function persistFeatures(){
  localStorage.setItem('featureSettings', JSON.stringify(featureSettings));
}

function addCategory(){
  const inp=document.getElementById('newCategoryInput');
  const val=(inp.value||'').trim();
  if(!val || categories.includes(val)) return;
  categories.push(val);
  localStorage.setItem('categories', JSON.stringify(categories));
  inp.value=''; renderSettings();
}
function removeCategory(i){
  categories.splice(i,1);
  localStorage.setItem('categories', JSON.stringify(categories));
  renderSettings();
}

/* ======= Language ======= */
function toggleLanguage(){
  lang = (lang==='en') ? 'ar' : 'en';
  localStorage.setItem('lang', lang);
  applyLanguage();
}
function applyLanguage(){
  const en={title:'Money Budgeter',settingsTitle:'Settings',languageLabel:'Language:',featuresLabel:'Features:',
    categoryLabel:'Custom Categories:',toggleRepeatLbl:'Show Repeat',toggleClearLbl:'Show Clear History',
    toggleResetLbl:'Show Reset',langBtn:'Switch to Arabic üá∏üá¶',historyLabel:'History'};
  const ar={title:'ŸÖÿØŸäÿ± ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©',settingsTitle:'ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™',languageLabel:'ÿßŸÑŸÑÿ∫ÿ©:',featuresLabel:'ÿßŸÑÿÆÿµÿßÿ¶ÿµ:',
    categoryLabel:'ÿßŸÑŸÅÿ¶ÿßÿ™ ÿßŸÑŸÖÿÆÿµÿµÿ©:',toggleRepeatLbl:'ÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÉÿ±ÿßÿ±',toggleClearLbl:'ÿπÿ±ÿ∂ ŸÖÿ≥ÿ≠ ÿßŸÑÿ≥ÿ¨ŸÑ',
    toggleResetLbl:'ÿπÿ±ÿ∂ ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∂ÿ®ÿ∑',langBtn:'ÿßŸÑÿ™ÿ®ÿØŸäŸÑ ÿ•ŸÑŸâ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© üá¨üáß',historyLabel:'ÿßŸÑÿ≥ÿ¨ŸÑ'};
  const t=(lang==='ar')?ar:en;
  document.getElementById('title').textContent=t.title;
  document.getElementById('settingsTitle').textContent=t.settingsTitle;
  document.getElementById('languageLabel').textContent=t.languageLabel;
  document.getElementById('featuresLabel').textContent=t.featuresLabel;
  document.getElementById('categoryLabel').textContent=t.categoryLabel;
  document.getElementById('toggleRepeatLbl').textContent=t.toggleRepeatLbl;
  document.getElementById('toggleClearLbl').textContent=t.toggleClearLbl;
  document.getElementById('toggleResetLbl').textContent=t.toggleResetLbl;
  document.getElementById('langBtn').textContent=t.langBtn;
  document.getElementById('historyLabel').textContent=t.historyLabel;
  document.body.setAttribute('dir', (lang==='ar')?'rtl':'ltr');
}
applyLanguage();

/* ======= Category totals ======= */
function viewCategoryTotals(){
  const totals = Object.fromEntries(categories.map(c=>[c,0]));
  history.forEach(h=>{
    const m = h.type.match(/^Subtract \((.+)\)$/);
    if (m && totals[m[1]]!==undefined) totals[m[1]] += h.value;
  });
  const cur='$';
  const title = (lang==='ar'?'ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÅÿ¶ÿßÿ™':'Category Totals');

  const m = document.createElement('div');
  m.className = 'modal sleek-modal';
  m.innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:center;width:100%;">
      <h3>${title}</h3>
      <button class="close-btn" onclick="closeTempModals()">‚úñ</button>
    </div>
    <div style="display:flex;flex-direction:column;align-items:center;width:100%;margin-top:8px;">
      ${categories.map(c =>
        `<button class="btn" style="width:90%;margin:6px 0;" disabled>${c}: ${cur}${totals[c].toFixed(2)}</button>`
      ).join('')}
    </div>`;
  document.body.appendChild(m);
  showModal(m);
}

/* ======= Fullscreen history (FIXED CENTER) ======= */
function openFullHistory(){
  const holder = document.createElement('div');
  holder.className = 'sleek-modal';

  // Force real center on iOS Safari
  holder.style.position = 'fixed';
  holder.style.inset = '0';
  holder.style.left = '0';
  holder.style.top = '0';
  holder.style.transform = 'none';
  holder.style.display = 'flex';
  holder.style.justifyContent = 'center';
  holder.style.alignItems = 'center';
  holder.style.zIndex = '10000';
  holder.style.background = 'transparent';

  const panel = document.createElement('div');
  panel.style.width = 'min(800px, 94vw)';
  panel.style.maxHeight = '90vh';
  panel.style.overflow = 'auto';
  panel.style.borderRadius = '16px';
  panel.style.padding = '16px';
  panel.style.background = document.body.classList.contains('dark-mode') ? 'rgba(16,28,58,.65)' : 'rgba(255,255,255,.25)';
  panel.style.color = document.body.classList.contains('dark-mode') ? '#fff' : '#0b1220';
  panel.style.boxShadow = '0 24px 64px rgba(0,0,0,.45)';
  panel.style.border = document.body.classList.contains('dark-mode') ? '1px solid rgba(210,225,255,.16)' : '1px solid rgba(255,255,255,.45)';
  panel.style.backdropFilter = 'blur(18px) saturate(150%)';

  panel.innerHTML =
    `<h3 style="text-align:center;margin-bottom:10px;">${lang==='ar'?'ÿßŸÑÿ≥ÿ¨ŸÑ ÿßŸÑŸÉÿßŸÖŸÑ':'Full History'}</h3>` +
    history.slice().reverse().map(it =>
      `<div style="padding:8px 6px;border-bottom:1px solid rgba(255,255,255,.08);">
        ${it.timestamp} ‚Äî ${it.type}: $${it.value.toFixed(2)}
      </div>`
    ).join('') +
    `<button class="btn" style="margin-top:10px;width:100%;" onclick="closeTempModals()">${lang==='ar'?'ÿ•ÿ∫ŸÑÿßŸÇ':'Close'}</button>`;

  holder.appendChild(panel);
  document.body.appendChild(holder);
  openOverlay();
}
document.getElementById('toggleHistoryBtn').addEventListener('click', openFullHistory);

/* ======= Init ======= */
function init(){
  updateBudget();
  renderHistory();
  applyFeatureVisibility();
  modeBtn.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
}
init();
</script>
<script src="/pwa-bridge.js"></script>
<script>
// Disable pinch-zoom, double-tap zoom, and ctrl+wheel zoom
(function(){
  // iOS Safari gesture
  document.addEventListener('gesturestart', function (e) { e.preventDefault(); }, { passive: false });
  // Double-tap zoom
  let lastTouch = 0;
  document.addEventListener('touchend', function (e) {
    const now = Date.now();
    if (now - lastTouch <= 300) { e.preventDefault(); }
    lastTouch = now;
  }, { passive: false });
  // Ctrl + wheel zoom (desktop)
  document.addEventListener('wheel', function (e) {
    if (e.ctrlKey) e.preventDefault();
  }, { passive: false });
})();
</script>

<!-- === Firebase Auth hookup (fixes the ‚ÄúFirebase error‚Äù on sign-up) === -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";

  // Use YOUR config (from Firebase)
  const firebaseConfig = {
    apiKey: "AIzaSyDd2lvw5Bkts_ZYq6B_TdPVEE1PthTDcZk",
    authDomain: "money-budgeter.firebaseapp.com",
    projectId: "money-budgeter",
    storageBucket: "money-budgeter.firebasestorage.app",
    messagingSenderId: "75231300827",
    appId: "1:75231300827:web:0ed7ad72f0c9647cdf10fe",
    measurementId: "G-J4ESLJBFVE"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // UI elements
  const openAuth   = document.getElementById('openAuth');
  const signOutBtn = document.getElementById('signOutBtn');
  const userChip   = document.getElementById('userChip');
  const sheet      = document.getElementById('authSheet');
  const backdrop   = document.getElementById('authBackdrop');
  const closeBtn   = document.getElementById('authClose');
  const tabIn      = document.getElementById('tabSignIn');
  const tabUp      = document.getElementById('tabSignUp');
  const emailInput = document.getElementById('emailInput');
  const passInput  = document.getElementById('passInput');
  const errEl      = document.getElementById('authErr');
  const actionBtn  = document.getElementById('authAction');

  let mode = 'signin'; // or 'signup'

  function openSheet(){ sheet.style.display='block'; backdrop.style.display='block'; errEl.textContent=''; }
  function closeSheet(){ sheet.style.display='none'; backdrop.style.display='none'; }

  openAuth.addEventListener('click', openSheet);
  closeBtn.addEventListener('click', closeSheet);
  backdrop.addEventListener('click', closeSheet);

  tabIn.addEventListener('click', ()=>{
    mode='signin';
    tabIn.classList.add('active'); tabUp.classList.remove('active');
    actionBtn.textContent = 'Sign In';
    errEl.textContent='';
  });
  tabUp.addEventListener('click', ()=>{
    mode='signup';
    tabUp.classList.add('active'); tabIn.classList.remove('active');
    actionBtn.textContent = 'Create Account';
    errEl.textContent='';
  });

  actionBtn.addEventListener('click', async ()=>{
    errEl.textContent='';
    const email = (emailInput.value||'').trim();
    const pass  = (passInput.value||'').trim();
    if (!email || !pass) { errEl.textContent = 'Enter email and password.'; return; }
    try{
      if (mode==='signup'){
        await createUserWithEmailAndPassword(auth, email, pass);
      } else {
        await signInWithEmailAndPassword(auth, email, pass);
      }
      closeSheet();
    }catch(e){
      errEl.textContent = e.message || 'Authentication error';
    }
  });

  signOutBtn.addEventListener('click', ()=>signOut(auth));

  // Keep UI in sync
  onAuthStateChanged(auth, (user)=>{
    if (user){
      openAuth.textContent = 'Account';
      signOutBtn.classList.remove('hidden');
      userChip.classList.remove('hidden');
      userChip.textContent = user.email || 'Signed in';
    } else {
      openAuth.textContent = 'Sign In';
      signOutBtn.classList.add('hidden');
      userChip.classList.add('hidden');
      userChip.textContent = '';
    }
  });
</script>
</body>
</html>
